---
globs: src/pages/**/*
description: é¡µé¢å¼€å‘è§„èŒƒ - é¡µé¢ç›®å½•å‘½åã€å¿…éœ€æ–‡ä»¶ç»“æ„ã€BEM æ ·å¼è§„èŒƒã€è·¯ç”±é…ç½®
---

# é¡µé¢å¼€å‘è§„èŒƒ

## ğŸ“ é¡µé¢ç›®å½•ç»“æ„

### ç›®å½•å‘½åè§„åˆ™

**é¡µé¢ç›®å½•å¿…é¡»ä½¿ç”¨å°é©¼å³°å‘½åï¼ˆcamelCaseï¼‰**

```
src/pages/
â”œâ”€â”€ home/                    # âœ… å•ä¸ªå•è¯ï¼šå°é©¼å³°
â”œâ”€â”€ login/                   # âœ… å•ä¸ªå•è¯ï¼šå°é©¼å³°
â”œâ”€â”€ about/                   # âœ… å•ä¸ªå•è¯ï¼šå°é©¼å³°
â”œâ”€â”€ user/                    # âœ… å•ä¸ªå•è¯ï¼šå°é©¼å³°
â”œâ”€â”€ productDetail/           # âœ… å¤šå•è¯ï¼šå°é©¼å³°
â”œâ”€â”€ orderList/               # âœ… å¤šå•è¯ï¼šå°é©¼å³°
â””â”€â”€ userProfile/             # âœ… å¤šå•è¯ï¼šå°é©¼å³°
```

### âŒ é”™è¯¯çš„å‘½å

```
src/pages/
â”œâ”€â”€ Home/                    # âŒ ä¸ä½¿ç”¨ PascalCase
â”œâ”€â”€ Login/                   # âŒ ä¸ä½¿ç”¨ PascalCase
â”œâ”€â”€ ProductDetail/           # âŒ ä¸ä½¿ç”¨ PascalCase
â”œâ”€â”€ product-detail/          # âŒ ä¸ä½¿ç”¨ kebab-case
â””â”€â”€ order_list/              # âŒ ä¸ä½¿ç”¨ snake_case
```

## ğŸ“„ å¿…éœ€æ–‡ä»¶ç»“æ„

æ¯ä¸ªé¡µé¢ç›®å½•å¿…é¡»åŒ…å«ï¼š

```
pages/myPage/
â”œâ”€â”€ index.tsx              # é¡µé¢ç»„ä»¶ï¼ˆå¿…éœ€ï¼‰
â”œâ”€â”€ index.module.less      # é¡µé¢æ ·å¼ï¼ˆå¿…éœ€ï¼‰
â””â”€â”€ components/            # é¡µé¢ç§æœ‰ç»„ä»¶ç›®å½•ï¼ˆå¿…éœ€ï¼Œå³ä½¿ä¸ºç©ºï¼‰
    â””â”€â”€ MyComponent/
        â”œâ”€â”€ index.tsx
        â””â”€â”€ index.module.less
```

### index.tsx - é¡µé¢ç»„ä»¶

```typescript
import { FC, useEffect, useState } from 'react'
import { useNavigate } from 'react-router-dom'
import { Button, Card, Toast } from 'antd-mobile'
import { useRequest } from '@/hooks'
import { UserAPI } from '@/services'
import styles from './index.module.less'

const MyPage: FC = () => {
  const navigate = useNavigate()
  const [loading, setLoading] = useState(false)

  const handleClick = () => {
    navigate('/other-page')
  }

  return (
    <div className={styles.myPage}>
      <Card title="æˆ‘çš„é¡µé¢" className={styles.myPage_card}>
        <p className={styles.myPage_content}>é¡µé¢å†…å®¹</p>
        <Button
          color="primary"
          onClick={handleClick}
          className={styles.myPage_button}
        >
          æŒ‰é’®
        </Button>
      </Card>
    </div>
  )
}

export default MyPage
```

### index.module.less - é¡µé¢æ ·å¼

éµå¾ª BEM å‘½åè§„èŒƒï¼ˆè¯¦è§æ ·å¼è§„èŒƒéƒ¨åˆ†ï¼‰ï¼š

```less
// Block: myPage
.myPage {
  padding: 16px;
  min-height: 100vh;
  background-color: #f5f5f5;

  // Element: myPage_cardï¼ˆä½¿ç”¨å•ä¸‹åˆ’çº¿ _ï¼‰
  &_card {
    margin-bottom: 16px;
    border-radius: 8px;
  }

  // Element: myPage_content
  &_content {
    font-size: 14px;
    color: #333;
  }

  // Element: myPage_button
  &_button {
    margin-top: 16px;

    // Modifier: myPage_button__primaryï¼ˆä½¿ç”¨åŒä¸‹åˆ’çº¿ __ï¼‰
    &__primary {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
  }
}

// Modifier: myPage__loadingï¼ˆä½¿ç”¨åŒä¸‹åˆ’çº¿ __ï¼‰
.myPage__loading {
  opacity: 0.6;
  pointer-events: none;
}
```

## ğŸ¨ BEM æ ·å¼å‘½åè§„èŒƒ

### BEM å‘½åç»“æ„

```
Block_Element__Modifier
```

### ç»„æˆéƒ¨åˆ†

1. **Blockï¼ˆå—ï¼‰**ï¼šç‹¬ç«‹çš„ç»„ä»¶ï¼Œå¦‚ `loginPage`ã€`homePage`
2. **Elementï¼ˆå…ƒç´ ï¼‰**ï¼šBlock çš„ç»„æˆéƒ¨åˆ†ï¼Œä½¿ç”¨**å•ä¸‹åˆ’çº¿ `_`** è¿æ¥
3. **Modifierï¼ˆä¿®é¥°ç¬¦ï¼‰**ï¼šBlock æˆ– Element çš„å˜ä½“ï¼Œä½¿ç”¨**åŒä¸‹åˆ’çº¿ `__`** è¿æ¥

### å‘½åè§„åˆ™è¯¦è§£

#### Block å‘½å

- ç¬¬ä¸€ä¸ªå•è¯å°å†™ï¼Œåç»­å•è¯é¦–å­—æ¯å¤§å†™ï¼ˆå°é©¼å³°ï¼‰
- é¡µé¢ Block å»ºè®®ä½¿ç”¨ `é¡µé¢å + Page` æ ¼å¼

```less
// âœ… æ­£ç¡®
.loginPage {
}
.homePage {
}
.userCard {
}
.productList {
}

// âŒ é”™è¯¯
.LoginPage {
} // ä¸ä½¿ç”¨ PascalCase
.login-page {
} // ä¸ä½¿ç”¨ kebab-case
.login_page {
} // ä¸ä½¿ç”¨ snake_case
```

#### Element å‘½å

- Block åç§° + **å•ä¸‹åˆ’çº¿ `_`** + å…ƒç´ åç§°ï¼ˆå°é©¼å³°ï¼‰

```less
// âœ… æ­£ç¡®
.loginPage_header {
}
.loginPage_submitButton {
}
.userCard_avatar {
}
.productList_item {
}

// âŒ é”™è¯¯
.loginPage-header {
} // ä½¿ç”¨ `-`
.loginPage__header {
} // ä½¿ç”¨ `__`ï¼ˆè¿™æ˜¯ Modifierï¼‰
.header {
} // ç¼ºå°‘ Block å‰ç¼€
```

#### Modifier å‘½å

- Block/Element åç§° + **åŒä¸‹åˆ’çº¿ `__`** + ä¿®é¥°ç¬¦åç§°ï¼ˆå°é©¼å³°ï¼‰

```less
// âœ… æ­£ç¡®ï¼šBlock çš„ Modifier
.loginPage__loading {
}
.loginPage__disabled {
}
.userCard__active {
}

// âœ… æ­£ç¡®ï¼šElement çš„ Modifier
.loginPage_button__primary {
}
.loginPage_button__disabled {
}
.userCard_title__large {
}

// âŒ é”™è¯¯
.loginPage-loading {
} // ä½¿ç”¨ `-`
.loginPage--loading {
} // ä½¿ç”¨ `--`ï¼ˆå·²ç¦æ­¢ï¼‰
.loginPage_loading {
} // ä½¿ç”¨å•ä¸‹åˆ’çº¿ï¼ˆè¿™æ˜¯ Elementï¼‰
```

### å‘½åå¯¹ç…§è¡¨

| ç±»å‹               | è¿æ¥ç¬¦          | ç¤ºä¾‹                        | è¯´æ˜                    |
| ------------------ | --------------- | --------------------------- | ----------------------- |
| Block              | æ—               | `loginPage`                 | ç‹¬ç«‹çš„ç»„ä»¶æˆ–é¡µé¢        |
| Element            | `_` (å•ä¸‹åˆ’çº¿)  | `loginPage_header`          | Block çš„ç»„æˆéƒ¨åˆ†        |
| Modifier           | `__` (åŒä¸‹åˆ’çº¿) | `loginPage__loading`        | Block æˆ– Element çš„å˜ä½“ |
| Element + Modifier | `_` + `__`      | `loginPage_button__primary` | Element çš„ä¿®é¥°ç¬¦        |

## ğŸ’¡ å®Œæ•´é¡µé¢ç¤ºä¾‹

### ç™»å½•é¡µé¢ç¤ºä¾‹

```typescript
// src/pages/login/index.tsx
import { FC, useState } from 'react'
import { useNavigate } from 'react-router-dom'
import { Button, Input, Form, Toast } from 'antd-mobile'
import { UserAPI } from '@/services'
import { useUserStore } from '@/store'
import styles from './index.module.less'

const Login: FC = () => {
  const navigate = useNavigate()
  const { login } = useUserStore()
  const [loading, setLoading] = useState(false)

  const handleSubmit = async (values: { username: string; password: string }) => {
    setLoading(true)
    try {
      const res = await UserAPI.login(values)
      login(res.token, res.userInfo)
      Toast.show({ content: 'ç™»å½•æˆåŠŸ' })
      navigate('/')
    } catch (error) {
      Toast.show({ content: 'ç™»å½•å¤±è´¥' })
    } finally {
      setLoading(false)
    }
  }

  return (
    <div className={styles.loginPage}>
      <div className={styles.loginPage_content}>
        <div className={styles.loginPage_logoSection}>
          <div className={styles.loginPage_logo}>ğŸ”</div>
          <h1 className={styles.loginPage_title}>æ¬¢è¿ç™»å½•</h1>
        </div>

        <Form
          onFinish={handleSubmit}
          className={styles.loginPage_form}
        >
          <Form.Item name="username" label="ç”¨æˆ·å">
            <Input placeholder="è¯·è¾“å…¥ç”¨æˆ·å" />
          </Form.Item>

          <Form.Item name="password" label="å¯†ç ">
            <Input type="password" placeholder="è¯·è¾“å…¥å¯†ç " />
          </Form.Item>

          <Button
            type="submit"
            color="primary"
            block
            loading={loading}
            className={`${styles.loginPage_submitButton} ${loading ? styles.loginPage_submitButton__loading : ''}`}
          >
            ç™»å½•
          </Button>
        </Form>
      </div>
    </div>
  )
}

export default Login
```

```less
// src/pages/login/index.module.less

// Block: loginPage
.loginPage {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);

  // Element: loginPage_content
  &_content {
    width: 100%;
    max-width: 400px;
    padding: 32px;
    background: #fff;
    border-radius: 16px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  }

  // Element: loginPage_logoSection
  &_logoSection {
    text-align: center;
    margin-bottom: 32px;
  }

  // Element: loginPage_logo
  &_logo {
    width: 80px;
    height: 80px;
    margin: 0 auto 16px;
    font-size: 40px;
    line-height: 80px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 50%;
    box-shadow: 0 4px 16px rgba(102, 126, 234, 0.4);
  }

  // Element: loginPage_title
  &_title {
    font-size: 24px;
    font-weight: 600;
    color: #333;
  }

  // Element: loginPage_form
  &_form {
    margin-top: 24px;
  }

  // Element: loginPage_submitButton
  &_submitButton {
    height: 48px;
    margin-top: 24px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border: none;
    border-radius: 8px;
    font-size: 16px;
    font-weight: 500;

    // Modifier: loginPage_submitButton__loading
    &__loading {
      opacity: 0.6;
      cursor: not-allowed;
    }
  }
}

// Modifier: loginPage__disabled
.loginPage__disabled {
  pointer-events: none;
  opacity: 0.5;
}
```

## ğŸ›£ï¸ è·¯ç”±é…ç½®

åœ¨ `src/router/routes.tsx` ä¸­é…ç½®è·¯ç”±ï¼š

```typescript
import { lazy } from 'react'
import type { RouteObject } from 'react-router-dom'

// å¯¼å…¥é¡µé¢ç»„ä»¶
import Home from '@/pages/home'
import Login from '@/pages/login'

// æˆ–ä½¿ç”¨æ‡’åŠ è½½
const About = lazy(() => import('@/pages/about'))
const User = lazy(() => import('@/pages/user'))

export interface RouteConfig extends RouteObject {
  meta?: {
    title?: string
    requiresAuth?: boolean
  }
}

export const routes: RouteConfig[] = [
  {
    path: '/',
    element: <Home />,
    meta: {
      title: 'é¦–é¡µ',
      requiresAuth: false,
    },
  },
  {
    path: '/login',
    element: <Login />,
    meta: {
      title: 'ç™»å½•',
      requiresAuth: false,
    },
  },
  {
    path: '/about',
    element: <About />,
    meta: {
      title: 'å…³äº',
      requiresAuth: false,
    },
  },
  {
    path: '/user',
    element: <User />,
    meta: {
      title: 'ç”¨æˆ·ä¸­å¿ƒ',
      requiresAuth: true,  // éœ€è¦ç™»å½•
    },
  },
]
```

## ğŸ“ åˆ›å»ºæ–°é¡µé¢æ£€æŸ¥æ¸…å•

- [ ] ç›®å½•åä½¿ç”¨å°é©¼å³°å‘½åï¼ˆcamelCaseï¼‰
- [ ] åŒ…å« `index.tsx` æ–‡ä»¶
- [ ] åŒ…å« `index.module.less` æ–‡ä»¶
- [ ] åˆ›å»º `components/` ç›®å½•ï¼ˆå³ä½¿ä¸ºç©ºï¼‰
- [ ] æ ·å¼éµå¾ª BEM å‘½åè§„èŒƒ
  - [ ] Block ä½¿ç”¨å°é©¼å³°
  - [ ] Element ä½¿ç”¨å•ä¸‹åˆ’çº¿ `_`
  - [ ] Modifier ä½¿ç”¨åŒä¸‹åˆ’çº¿ `__`
- [ ] åœ¨ `src/router/routes.tsx` ä¸­æ·»åŠ è·¯ç”±é…ç½®
- [ ] ç»„ä»¶åä½¿ç”¨ PascalCaseï¼ˆå¦‚ `ProductDetail`ï¼‰
- [ ] å¯¼å‡ºä½¿ç”¨ `export default`

## ğŸ¯ æœ€ä½³å®è·µ

### 1. ç»„ä»¶æ”¾ç½®åŸåˆ™

```
// âœ… é¡µé¢ç§æœ‰ç»„ä»¶ï¼šæ”¾åœ¨ pages/xxx/components/ ä¸‹
src/pages/home/components/Banner/

// âœ… å…¨å±€å…¬å…±ç»„ä»¶ï¼šæ”¾åœ¨ src/components/ ä¸‹
src/components/Common/Loading/
src/components/Business/UserCard/

// âœ… åˆ¤æ–­æ ‡å‡†ï¼šå¦‚æœå¤šä¸ªé¡µé¢ä½¿ç”¨ï¼Œæå‡åˆ° src/components/
```

### 2. é¡µé¢ç»„ä»¶èŒè´£

- âœ… ç»„ç»‡é¡µé¢ç»“æ„
- âœ… åè°ƒå­ç»„ä»¶
- âœ… å¤„ç†é¡µé¢çº§çŠ¶æ€
- âœ… è°ƒç”¨ API è·å–æ•°æ®
- âœ… å¤„ç†è·¯ç”±è·³è½¬

### 3. ä¿æŒç»„ä»¶ç®€æ´

- å•ä¸ªé¡µé¢ç»„ä»¶ä¸è¶…è¿‡ 300 è¡Œ
- å¤æ‚é€»è¾‘æå–åˆ°è‡ªå®šä¹‰ Hooks
- å¤æ‚ UI æå–ä¸ºå­ç»„ä»¶

### 4. æ ·å¼ç»„ç»‡

```less
// âœ… æ¨èï¼šä½¿ç”¨ LESS åµŒå¥—ï¼Œä½†ä¿æŒ BEM å‘½å
.myPage {
  // Block æ ·å¼

  &_header {
    // Element æ ·å¼

    &__large {
      // Modifier æ ·å¼
    }
  }

  &_content {
    // Element æ ·å¼
  }
}

// âœ… ä½¿ç”¨å…¨å±€å˜é‡
@import '@/styles/variables.less';

.myPage {
  color: @primary-color;
  padding: @spacing-base;
}
```

## ğŸš« å¸¸è§é”™è¯¯

### âŒ é”™è¯¯ç¤ºä¾‹

```
// é”™è¯¯ 1: é¡µé¢ç›®å½•ä½¿ç”¨ PascalCase
src/pages/Home/
src/pages/ProductDetail/

// é”™è¯¯ 2: æ ·å¼ä½¿ç”¨ kebab-case
.login-page { }
.login-page-header { }

// é”™è¯¯ 3: Element ä½¿ç”¨åŒä¸‹åˆ’çº¿
.loginPage__header { }  // åº”è¯¥ç”¨å•ä¸‹åˆ’çº¿

// é”™è¯¯ 4: Modifier ä½¿ç”¨å•ä¸‹åˆ’çº¿
.loginPage_loading { }  // åº”è¯¥ç”¨åŒä¸‹åˆ’çº¿

// é”™è¯¯ 5: ç¼ºå°‘ Block å‰ç¼€
.header { }
.content { }

// é”™è¯¯ 6: ç¼ºå°‘å¿…éœ€æ–‡ä»¶
pages/myPage/
â”œâ”€â”€ index.tsx           # åªæœ‰ç»„ä»¶æ–‡ä»¶
â””â”€â”€ (ç¼ºå°‘ index.module.less å’Œ components/ ç›®å½•)
```

### âœ… æ­£ç¡®ç¤ºä¾‹

```
// æ­£ç¡® 1: é¡µé¢ç›®å½•ä½¿ç”¨å°é©¼å³°
src/pages/home/
src/pages/productDetail/

// æ­£ç¡® 2: æ ·å¼ä½¿ç”¨ BEM å°é©¼å³°
.loginPage { }
.loginPage_header { }

// æ­£ç¡® 3: Element ä½¿ç”¨å•ä¸‹åˆ’çº¿
.loginPage_header { }

// æ­£ç¡® 4: Modifier ä½¿ç”¨åŒä¸‹åˆ’çº¿
.loginPage__loading { }

// æ­£ç¡® 5: åŒ…å« Block å‰ç¼€
.loginPage_header { }
.loginPage_content { }

// æ­£ç¡® 6: å®Œæ•´çš„æ–‡ä»¶ç»“æ„
pages/myPage/
â”œâ”€â”€ index.tsx
â”œâ”€â”€ index.module.less
â””â”€â”€ components/
```

## ğŸ¯ å¿«é€Ÿè®°å¿†å£è¯€

- **é¡µé¢ç›®å½•**ï¼šå°é©¼å³° camelCase
- **Block**ï¼šç‹¬ç«‹å­˜åœ¨ï¼Œæ— è¿æ¥ç¬¦
- **Element**ï¼šå•ä¸‹åˆ’çº¿ `_`ï¼Œæ˜¯ Block çš„ä¸€éƒ¨åˆ†
- **Modifier**ï¼šåŒä¸‹åˆ’çº¿ `__`ï¼Œè¡¨ç¤ºå˜ä½“æˆ–çŠ¶æ€
- **ç¦æ­¢**ï¼šä¸ä½¿ç”¨ `--`ï¼Œç»Ÿä¸€ä½¿ç”¨ `__`

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [é¡µé¢å¼€å‘è§„èŒƒè¯¦ç»†æ–‡æ¡£](mdc:docs/PAGE_GUIDE.md)
- [å¿«é€Ÿå¼€å§‹æŒ‡å—](mdc:docs/QUICK_START.md)
- [æ ·å¼è§„èŒƒ](mdc:.cursor/rules/style-guidelines.mdc)
- [React å¼€å‘è§„èŒƒ](mdc:.cursor/rules/react-development.mdc)
